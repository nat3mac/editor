<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport"
	      content="width=device-width, height=device-height, initial-scale=1, minimum-scale=1, viewport-fit=cover">
	<title>Med Chart</title>
	<link rel="stylesheet" href="app.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,700;1,400;1,500&display=swap" rel="stylesheet">
	<link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"
	      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=block"/>
</head>
<body onload="initDoc();">
<header>
	<h1 class="display">Charty Pants</h1>
</header>
<section class="details">
	<header>
		<img src="https://i.pravatar.cc/150?img=5" alt="">
		<h2 class="heading">Jodie Tanner</h2>
		<dl>
			<div>
				<dt>Age</dt>
				<dd>31</dd>
			</div>
			<div>
				<dt>Sex</dt>
				<dd>Female</dd>
			</div>
			<div>
				<dt>Height</dt>
				<dd>5'4"</dd>
			</div>
			<div>
				<dt>Weight</dt>
				<dd>131 lb</dd>
			</div>
		</dl>
	</header>
	<div>
		<h3 class="subheading">History</h3>
	</div>
</section>
<section class="editor">
	<header>
		<h3 class="heading">Visit notes</h3>
		<time class="copy">2:21PM 18 Jul, 2022</time>
	</header>
	<div class="toolbar">
		<!--			<button onclick="printDoc();">-->
		<!--				<span class="icon">print</span>-->
		<!--			</button>-->
		<div class="button-group">
			<button onclick="formatDoc('undo');">
				<span class="icon">undo</span>
			</button>
			<button onclick="formatDoc('redo');">
				<span class="icon">redo</span>
			</button>
		</div>
		<button class="intLink"
		        onclick="var sLnk=prompt('Write the URL here','http:\/\/');if(sLnk&&sLnk!=''&&sLnk!='http://'){formatDoc('createlink',sLnk)}">
			<span class="icon">add_link</span>
		</button>
		<button onclick="formatDoc('cut');">
			<span class="icon">content_cut</span>
		</button>
		<button onclick="formatDoc('copy');">
			<span class="icon">content_copy</span>
		</button>
		<button onclick="formatDoc('paste');">
			<span class="icon">content_paste</span>
		</button>
		<button onclick="formatDoc('removeFormat')">
			<span class="icon">format_clear</span>
		</button>
		<div class="button-group">
			<button onclick="formatDoc('bold');">
				<span class="icon">format_bold</span>
			</button>
			<button onclick="formatDoc('italic');">
				<span class="icon">format_italic</span>
			</button>
			<button onclick="formatDoc('underline');">
				<span class="icon">format_underlined</span>
			</button>
		</div>
		<div class="button-group">
			<button onclick="formatDoc('justifyleft');">
				<span class="icon">format_align_left</span>
			</button>
			<button onclick="formatDoc('justifycenter');">
				<span class="icon">format_align_center</span>
			</button>
			<button onclick="formatDoc('justifyright');">
				<span class="icon">format_align_right</span>
			</button>
		</div>
		<button onclick="formatDoc('insertorderedlist');">
			<span class="icon">format_list_numbered</span>
		</button>
		<button onclick="formatDoc('insertunorderedlist');">
			<span class="icon">format_list_bulleted</span>
		</button>
		<button onclick="formatDoc('formatblock','blockquote');">
			<span class="icon">format_quote</span>
		</button>
		<button onclick="formatDoc('outdent');">
			<span class="icon">format_indent_decrease</span>
		</button>
		<button onclick="formatDoc('indent');">
			<span class="icon">format_indent_increase</span>
		</button>
	</div>
	<form name="compForm" method="post" id="chart"
	      onsubmit="if(validateMode()){this.myDoc.value=oDoc.innerHTML;return true;}return false;">
		<input type="hidden" name="myDoc">
		<div id="input" contenteditable="true"><p class="copy">Visit notes</p></div>
	</form>
	<footer>
<!--		<p id="editMode"><input type="checkbox" name="switchMode" id="switchBox" onchange="setDocMode(this.checked);"/>-->
<!--			<label for="switchBox">Show HTML</label></p>-->
		<button type="submit" form="chart" class="button">Save Changes</button>
	</footer>
</section>
<script>
	let oDoc, sDefTxt

	function initDoc () {
		oDoc = document.getElementById('input')
		sDefTxt = oDoc.innerHTML
		if (document.compForm.switchMode.checked) {
			setDocMode(true)
		}
	}

	function formatDoc (sCmd, sValue) {
		if (validateMode()) {
			document.execCommand(sCmd, false, sValue)
			oDoc.focus()
		}
	}

	function validateMode () {
		if (!document.compForm.switchMode.checked) {
			return true
		}
		alert('Uncheck "Show HTML".')
		oDoc.focus()
		return false
	}

	function setDocMode (bToSource) {
		let oContent
		if (bToSource) {
			oContent = document.createTextNode(oDoc.innerHTML)
			oDoc.innerHTML = ''
			var oPre = document.createElement('pre')
			oDoc.contentEditable = false
			oPre.id = 'sourceText'
			oPre.contentEditable = true
			oPre.appendChild(oContent)
			oDoc.appendChild(oPre)
			document.execCommand('defaultParagraphSeparator', false, 'div')
		} else {
			if (document.all) {
				oDoc.innerHTML = oDoc.innerText
			} else {
				oContent = document.createRange()
				oContent.selectNodeContents(oDoc.firstChild)
				oDoc.innerHTML = oContent.toString()
			}
			oDoc.contentEditable = true
		}
		oDoc.focus()
	}

	function printDoc () {
		if (!validateMode()) {
			return
		}
		const oPrintWin = window.open('', '_blank', 'width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes')
		oPrintWin.document.open()
		oPrintWin.document.write('<!doctype html><html><head><title>Print<\/title><\/head><body onload="print();">' + oDoc.innerHTML + '<\/body><\/html>')
		oPrintWin.document.close()
	}
</script>
</body>
</html>